<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- CSS  -->
<link href="../../style.css" rel="stylesheet" type="text/css" />
<link href="https://vjs.zencdn.net/8.3.0/video-js.css" rel="stylesheet" />
<title>Alterna Radio FM 88.1 MHZ</title>
<link rel="icon" type="image/x-icon" href="../../favicon.png">
    <script src="../../js/config.js"></script>
    <script type="text/javascript">
        (function() {
            window.Copy = function() {
                var url = CONFIG.domain + "#hr/hr15";
                var messageDiv = document.getElementById("copyMessage");

                // Copiar al portapapeles
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(url)
                        .then(function() {
                            console.log("Clipboard API: copiado");
                            if (messageDiv) {
                                messageDiv.innerHTML = '¡Vínculo <strong>' + url + '</strong> copiado al portapapeles!';
                                messageDiv.style.display = 'block';
                            }
                        })
                        .catch(function(err) {
                            console.error("Clipboard API error:", err);
                        });
                } else {
                    // Fallback para navegadores antiguos
                    var textarea = document.createElement('textarea');
                    textarea.value = url;
                    textarea.style.position = 'fixed';
                    textarea.style.opacity = '0';
                    document.body.appendChild(textarea);
                    textarea.focus();
                    textarea.select();

                    try {
                        var success = document.execCommand('copy');
                        if (success && messageDiv) {
                            messageDiv.innerHTML = '¡Vínculo <strong>' + url + '</strong> copiado al portapapeles!';
                            messageDiv.style.display = 'block';
                        }
                    } catch(err) {
                        console.error("execCommand error:", err);
                    }

                    document.body.removeChild(textarea);
                }
            };

            window.Share = function() {
                var url = CONFIG.domain + "#hr/hr15";
                var title = "Humana Resistencia - Programa 15";
                var text = "Escuchá este programa de Humana Resistencia en Alterna Radio";

                if (navigator.share) {
                    navigator.share({
                        title: title,
                        text: text,
                        url: url
                    })
                    .then(function() {
                        console.log('Compartido exitosamente');
                    })
                    .catch(function(error) {
                        console.log('Error al compartir:', error);
                    });
                } else {
                    // Fallback: copiar al portapapeles
                    Copy();
                    alert('Función de compartir no disponible. El vínculo ha sido copiado al portapapeles.');
                }
            };
        })();
    </script>
    <script src="../../js/audio-manager.js"></script>
    <script type="text/javascript">
        // Cuando este archivo cargue, pausa la radio en vivo
        if (typeof AudioManager !== 'undefined') {
            AudioManager.pauseMainAudio();
        }

        // También monitorear cualquier elemento de audio en esta página
        document.addEventListener('play', function(e) {
            if (e.target.tagName === 'AUDIO' && e.target.id !== 'main-audio') {
                if (typeof AudioManager !== 'undefined') {
                    AudioManager.pauseMainAudio();
                }
            }
        }, true);
    </script>
</head>
<body class="episode-page">

<h2>Humana Resistencia - Programa 15</h2>
<p style="color: white;">31-05-2024</p>

<audio controls autoplay>
  <source src="../../archivo/humana_resistencia/31-5-24.ogg" type="audio/ogg">
</audio>

<div class="episode-buttons">
  <input type="button" value="Copiar vínculo" onclick="Copy();" />
  <a href="../../archivo/humana_resistencia/31-5-24.ogg"><input type="button" value="Descargar"></a>
  <input type="button" value="Compartir" onclick="Share();" />
</div>

<div id="copyMessage" style="display: none; color: #4CAF50; margin: 20px auto; padding: 15px; background-color: rgba(76, 175, 80, 0.1); border-radius: 5px; max-width: 90%; word-wrap: break-word;"></div>

<div class="episode-image">
  <img src="../../img/hr.png" width="400" height="600" alt="Humana Resistencia">
</div>

<script src="../../js/audio-manager.js"></script>
</body>
</html>

